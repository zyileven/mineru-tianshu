identity:
  name: "parse_document_async"
  author: "zyileven"
  label:
    en_US: "Parse Document (Async)"
    zh_Hans: "解析文档（异步）"
    pt_BR: "Analisar Documento (Assíncrono)"
    ja_JP: "ドキュメント解析（非同期）"
description:
  human:
    en_US: "Submit a document for parsing asynchronously. Returns a task ID immediately for later result retrieval."
    zh_Hans: "异步提交文档进行解析。立即返回任务 ID，稍后可获取结果。"
    pt_BR: "Enviar um documento para análise de forma assíncrona. Retorna um ID de tarefa imediatamente para recuperação posterior."
    ja_JP: "ドキュメントを非同期で解析するために送信します。すぐにタスクIDを返し、後で結果を取得できます。"
  llm: "Submit a document for asynchronous parsing. This tool returns immediately with a task_id that can be used with get_parse_result to retrieve the results later."
parameters:
  - name: file
    type: file
    required: true
    label:
      en_US: Document File
      zh_Hans: 文档文件
      pt_BR: Arquivo de Documento
      ja_JP: ドキュメントファイル
    human_description:
      en_US: "The document file to parse (PDF, images, Office files, etc.)"
      zh_Hans: "要解析的文档文件（PDF、图片、Office 文件等）"
      pt_BR: "O arquivo de documento a ser analisado (PDF, imagens, arquivos do Office, etc.)"
      ja_JP: "解析するドキュメントファイル（PDF、画像、Officeファイルなど）"
    llm_description: "The document file to parse. Supports PDF, images (PNG, JPG), and Office files."
    form: llm
  - name: backend
    type: select
    required: false
    default: "pipeline"
    options:
      - value: "pipeline"
        label:
          en_US: "Pipeline (Recommended)"
          zh_Hans: "Pipeline（推荐）"
          pt_BR: "Pipeline (Recomendado)"
          ja_JP: "Pipeline（推奨）"
      - value: "vlm-transformers"
        label:
          en_US: "VLM Transformers"
          zh_Hans: "VLM Transformers"
          pt_BR: "VLM Transformers"
          ja_JP: "VLM Transformers"
      - value: "vlm-vllm-engine"
        label:
          en_US: "VLM vLLM Engine"
          zh_Hans: "VLM vLLM 引擎"
          pt_BR: "VLM vLLM Engine"
          ja_JP: "VLM vLLM エンジン"
    label:
      en_US: Processing Backend
      zh_Hans: 处理后端
      pt_BR: Backend de Processamento
      ja_JP: 処理バックエンド
    human_description:
      en_US: "Choose the processing backend"
      zh_Hans: "选择处理后端"
      pt_BR: "Escolha o backend de processamento"
      ja_JP: "処理バックエンドを選択"
    llm_description: "Processing backend: pipeline (recommended), vlm-transformers, or vlm-vllm-engine"
    form: form
  - name: lang
    type: select
    required: false
    default: "ch"
    options:
      - value: "ch"
        label:
          en_US: "Chinese"
          zh_Hans: "中文"
          pt_BR: "Chinês"
          ja_JP: "中国語"
      - value: "en"
        label:
          en_US: "English"
          zh_Hans: "英语"
          pt_BR: "Inglês"
          ja_JP: "英語"
      - value: "korean"
        label:
          en_US: "Korean"
          zh_Hans: "韩语"
          pt_BR: "Coreano"
          ja_JP: "韓国語"
      - value: "japan"
        label:
          en_US: "Japanese"
          zh_Hans: "日语"
          pt_BR: "Japonês"
          ja_JP: "日本語"
    label:
      en_US: Language
      zh_Hans: 语言
      pt_BR: Idioma
      ja_JP: 言語
    human_description:
      en_US: "Document language"
      zh_Hans: "文档语言"
      pt_BR: "Idioma do documento"
      ja_JP: "ドキュメントの言語"
    llm_description: "Primary language of the document"
    form: form
  - name: formula_enable
    type: boolean
    required: false
    default: true
    label:
      en_US: Enable Formula Recognition
      zh_Hans: 启用公式识别
      pt_BR: Ativar Reconhecimento de Fórmulas
      ja_JP: 数式認識を有効化
    human_description:
      en_US: "Enable mathematical formula recognition"
      zh_Hans: "启用数学公式识别"
      pt_BR: "Ativar reconhecimento de fórmulas matemáticas"
      ja_JP: "数式認識を有効にする"
    llm_description: "Whether to enable mathematical formula recognition"
    form: form
  - name: table_enable
    type: boolean
    required: false
    default: true
    label:
      en_US: Enable Table Recognition
      zh_Hans: 启用表格识别
      pt_BR: Ativar Reconhecimento de Tabelas
      ja_JP: 表認識を有効化
    human_description:
      en_US: "Enable table structure recognition"
      zh_Hans: "启用表格结构识别"
      pt_BR: "Ativar reconhecimento de estrutura de tabelas"
      ja_JP: "表構造認識を有効にする"
    llm_description: "Whether to enable table structure recognition"
    form: form
  - name: priority
    type: number
    required: false
    default: 0
    label:
      en_US: Priority
      zh_Hans: 优先级
      pt_BR: Prioridade
      ja_JP: 優先度
    human_description:
      en_US: "Task priority (higher number = higher priority)"
      zh_Hans: "任务优先级（数字越大优先级越高）"
      pt_BR: "Prioridade da tarefa (número maior = prioridade maior)"
      ja_JP: "タスクの優先度（数値が大きいほど優先度が高い）"
    llm_description: "Task priority, higher number means higher priority"
    form: form
extra:
  python:
    source: tools/parse_document_async.py
output_schema:
  text:
    type: string
    description:
      en_US: "The task ID for the submitted parsing task"
      zh_Hans: "已提交解析任务的任务 ID"
      pt_BR: "O ID da tarefa de análise enviada"
      ja_JP: "送信された解析タスクのタスクID"
  json:
    type: object
    description:
      en_US: "Full API response including task_id and submission details"
      zh_Hans: "完整的 API 响应，包括 task_id 和提交详情"
      pt_BR: "Resposta completa da API incluindo task_id e detalhes de envio"
      ja_JP: "task_id と送信の詳細を含む完全な API レスポンス"

